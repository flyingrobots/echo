<?xml version="1.0" encoding="UTF-8"?>
<svg width="400" height="700" viewBox="0 0 400 700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="drawerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#1e1b4b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1f2937;stop-opacity:1" />
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <!-- Drawer background -->
  <rect width="400" height="700" fill="url(#drawerGrad)"/>
  <rect x="0" y="0" width="4" height="700" fill="#8b5cf6"/>

  <!-- Header -->
  <rect x="0" y="0" width="400" height="60" fill="#1a1a2e"/>
  <text x="20" y="25" fill="#8b5cf6" font-family="system-ui" font-size="11" font-weight="bold">PROVENANCE</text>
  <text x="20" y="45" fill="#fff" font-family="system-ui" font-size="18" font-weight="bold">counter_1</text>

  <!-- Close button -->
  <circle cx="370" cy="30" r="15" fill="#374151" stroke="#4b5563"/>
  <line x1="363" y1="23" x2="377" y2="37" stroke="#9ca3af" stroke-width="2"/>
  <line x1="377" y1="23" x2="363" y2="37" stroke="#9ca3af" stroke-width="2"/>

  <!-- Current value card -->
  <rect x="15" y="75" width="370" height="100" rx="8" fill="#111827" stroke="#374151"/>
  <text x="30" y="100" fill="#9ca3af" font-family="system-ui" font-size="11">CURRENT VALUE</text>
  <text x="30" y="135" fill="#10b981" font-family="monospace" font-size="36" font-weight="bold">47</text>
  <text x="30" y="160" fill="#6b7280" font-family="monospace" font-size="12">Type: Int</text>
  <text x="150" y="160" fill="#6b7280" font-family="monospace" font-size="12">Node ID: 0x3f2a...</text>

  <!-- History header -->
  <text x="20" y="205" fill="#fff" font-family="system-ui" font-size="14" font-weight="bold">Change History</text>
  <text x="310" y="205" fill="#6b7280" font-family="system-ui" font-size="11">12 changes</text>

  <!-- Timeline line -->
  <line x1="45" y1="230" x2="45" y2="580" stroke="#374151" stroke-width="2"/>

  <!-- History entry 1 (most recent) -->
  <circle cx="45" cy="250" r="8" fill="#10b981" filter="url(#glow)"/>
  <rect x="65" y="225" width="315" height="90" rx="6" fill="#1a1a2e" stroke="#10b981" stroke-width="1"/>
  <text x="80" y="248" fill="#f59e0b" font-family="monospace" font-size="11" font-weight="bold">Tick 45</text>
  <text x="250" y="248" fill="#6b7280" font-family="monospace" font-size="10">2.3ms ago</text>

  <text x="80" y="272" fill="#ef4444" font-family="monospace" font-size="14">46</text>
  <text x="110" y="272" fill="#6b7280" font-family="monospace" font-size="14">→</text>
  <text x="130" y="272" fill="#10b981" font-family="monospace" font-size="14" font-weight="bold">47</text>

  <text x="80" y="292" fill="#9ca3af" font-family="system-ui" font-size="10">Rule:</text>
  <text x="110" y="292" fill="#3b82f6" font-family="monospace" font-size="10">update_counter</text>

  <text x="80" y="308" fill="#9ca3af" font-family="system-ui" font-size="10">Intent:</text>
  <text x="118" y="308" fill="#f59e0b" font-family="monospace" font-size="10">ClickIntent(btn_increment)</text>

  <!-- History entry 2 -->
  <circle cx="45" cy="350" r="6" fill="#3b82f6"/>
  <rect x="65" y="330" width="315" height="80" rx="6" fill="#1a1a2e" stroke="#374151" stroke-width="1"/>
  <text x="80" y="353" fill="#f59e0b" font-family="monospace" font-size="11" font-weight="bold">Tick 32</text>
  <text x="250" y="353" fill="#6b7280" font-family="monospace" font-size="10">15.1ms ago</text>

  <text x="80" y="375" fill="#ef4444" font-family="monospace" font-size="14">45</text>
  <text x="110" y="375" fill="#6b7280" font-family="monospace" font-size="14">→</text>
  <text x="130" y="375" fill="#10b981" font-family="monospace" font-size="14">46</text>

  <text x="80" y="395" fill="#9ca3af" font-family="system-ui" font-size="10">Rule:</text>
  <text x="110" y="395" fill="#3b82f6" font-family="monospace" font-size="10">update_counter</text>

  <!-- History entry 3 -->
  <circle cx="45" cy="440" r="6" fill="#3b82f6"/>
  <rect x="65" y="420" width="315" height="80" rx="6" fill="#1a1a2e" stroke="#374151" stroke-width="1"/>
  <text x="80" y="443" fill="#f59e0b" font-family="monospace" font-size="11" font-weight="bold">Tick 18</text>
  <text x="250" y="443" fill="#6b7280" font-family="monospace" font-size="10">28.4ms ago</text>

  <text x="80" y="465" fill="#ef4444" font-family="monospace" font-size="14">44</text>
  <text x="110" y="465" fill="#6b7280" font-family="monospace" font-size="14">→</text>
  <text x="130" y="465" fill="#10b981" font-family="monospace" font-size="14">45</text>

  <text x="80" y="485" fill="#9ca3af" font-family="system-ui" font-size="10">Rule:</text>
  <text x="110" y="485" fill="#3b82f6" font-family="monospace" font-size="10">update_counter</text>

  <!-- History entry 4 (creation) -->
  <circle cx="45" cy="535" r="8" fill="#8b5cf6"/>
  <rect x="65" y="510" width="315" height="70" rx="6" fill="#1a1a2e" stroke="#8b5cf6" stroke-width="1"/>
  <text x="80" y="533" fill="#8b5cf6" font-family="monospace" font-size="11" font-weight="bold">Tick 1</text>
  <text x="150" y="533" fill="#8b5cf6" font-family="system-ui" font-size="10">CREATED</text>

  <text x="80" y="555" fill="#6b7280" font-family="monospace" font-size="14">null</text>
  <text x="115" y="555" fill="#6b7280" font-family="monospace" font-size="14">→</text>
  <text x="135" y="555" fill="#10b981" font-family="monospace" font-size="14">0</text>

  <text x="80" y="572" fill="#9ca3af" font-family="system-ui" font-size="10">Rule:</text>
  <text x="110" y="572" fill="#3b82f6" font-family="monospace" font-size="10">init_counter</text>

  <!-- End of timeline -->
  <circle cx="45" cy="595" r="4" fill="#374151"/>

  <!-- Action buttons -->
  <rect x="15" y="620" width="180" height="40" rx="8" fill="#7c3aed" stroke="#8b5cf6"/>
  <text x="55" y="646" fill="#fff" font-family="system-ui" font-size="13" font-weight="bold">View in 4D</text>

  <rect x="205" y="620" width="180" height="40" rx="8" fill="#374151" stroke="#4b5563"/>
  <text x="230" y="646" fill="#fff" font-family="system-ui" font-size="13">Jump to Tick 45</text>

  <!-- Hash verification -->
  <rect x="15" y="670" width="370" height="25" rx="4" fill="#111827"/>
  <text x="25" y="687" fill="#6b7280" font-family="monospace" font-size="10">value_hash: 8f3a2b1c...</text>
  <text x="320" y="687" fill="#10b981" font-family="system-ui" font-size="10">verified</text>
</svg>
